---
title:  "안드로이드에서 Http 통신 허용하기"
excerpt: "http 통신 예외처리"

toc : true
toc_sticky : true

categories:
  - Error
tags: 
  - AOS
  - Http
---

안드로이드에서는 안드로이드 9부터 HTTP 통신을 허용하지 않았다. 하지만 예외처리를 통해 HTTP 통신을 허용할 수 있는데 오늘은 그 방법에 대해 알아보자.


우선 AndroidManifest.xml 파일에서 아래와 같이 설정한다.

```java
<application
    ...
    android:usesCleartextTraffic="true"
    >
</application>
```

<br/>

그리고 network_security_config.xml 파일을 생성하고 아래와 같이 예외처리에 등록할 주소를 설정한다.

```java
<?xml version="1.0" encoding="utf-8"?>
<network-security-config>
  <domain-config cleartextTrafficPermitted="true">
    <domain includeSubdomains="true">XX.X.X.XX</domain>
    <domain includeSubdomains="true">XX.XX.XX.XX</domain>
  </domain-config>
 </network-security-config>
```

위와 같이 설정 후 빌드해보면 정상적으로 http 통신이 되는 것을 확인할 수 있다.